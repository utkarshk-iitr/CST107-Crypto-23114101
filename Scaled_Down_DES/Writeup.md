First key scheduling is done with the help of public algorithm. 

For encryption we do permutation first then subsequently xoring is performed to generate a ciphertext
Then again a permuatation layer is performed to mix the ciphertext.

For decryption we reverse the permutation and then xor is performed in reverse order to generate mixed plaintext
Again we apply apply reverse permuatation , Thus we get the plaintext back.
